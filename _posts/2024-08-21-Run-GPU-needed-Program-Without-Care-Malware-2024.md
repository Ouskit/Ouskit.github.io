---
title: Run GPU-needed Program but Care Malware in 2024
date: 2024-08-23 23:29:53
categories:
- Game, Virtualization
tags:
- Malware
- VM USE GPU
- Game
- Virtualization
- Fitgirl
- Fitgirl Repack
--- 
# TL;DR
**For those who want to run GPU-needed program but care about malware**

Program like game, or any program that need GPU, maybe it will install some malware to your computer, like some non-official game mod, so this article will help you to run that program without care about malware while still using your GPU. Even your gaming laptop can run it.

Generally, VM like VirtualBox, VMWare, Parallels, etc. can not run with GPU enabled, but Hyper-V can. This article will use Hyper-V to create a virtual machine to run your program. This VM can use GPU.


# Requirement
- Windows 10/11
- GPU

# Prerequisite
- Enable Virtualization in your CPU 
  [Enable Hyper-V on Windows | Microsoft Learn](https://learn.microsoft.com/en-us/virtualization/hyper-v-on-windows/quick-start/enable-hyper-v)
- Download Windows ISO file (same as your current Windows version 10 or 11) using Rufus, don't use Windows 11 Media Creation Tool, Follow this guide, remember to open automatically update Rufus so the download option will show up. =>  [Downloading Windows 10 ISO Images using Rufus - NEXTOFWINDOWS.COM](https://www.nextofwindows.com/downloading-windows-10-iso-images-using-rufus)
- Allow Powershell scripts to run on your system - typically by running "Set-ExecutionPolicy unrestricted" in Powershell running as Administrator.

# Step 1. Download the script
This article will use Windows Hyper-V technology, but it's step is very complicated for normal user, but someone build a tool to make it easier:
It automatically do all the step for you, including install Hyper-V, create virtual machine, install Windows, install drivers, and install GPU drivers.

- Git clone or download ZIP
  
[jamesstringerparsec/Easy-GPU-PV: A Project dedicated to making GPU Partitioning on Windows easier!](https://github.com/jamesstringerparsec/Easy-GPU-PV)

![step1](/image/2024-08-21-Run-GPU-needed-Program-Without-Care-Malware-2024/step1.png)

# Step 2. Run the script
**2.1**  Run Powershell ISE as Administrator.

**2.2**  Run the script PreChecks.ps1 in Easy-GPU-PV folder.

**2.3**  Edit CopyFilesToVM.ps1 to your configuration, including 

**SourcePath** : To your Windows ISO file

**SizeBytes** : Your VM size, it's depend on your program size.

**MemoryAmount** : Your VM memory, it's depend on your program need.

**CPUCores** : Your VM CPU, it's depend on your program need.

**VHDPath** : Your VM disk path.

**GPUResourceAllocationPercentage** : Your GPU allocation, it's depend on your program need.

**Password**: VM password.

![](/image/2024-08-21-Run-GPU-needed-Program-Without-Care-Malware-2024/step2.png)


Edit okay and run the script will create a virtual machine with your configuration with GPU-enabled in Hyper-V manager.

![step3](/image/2024-08-21-Run-GPU-needed-Program-Without-Care-Malware-2024/step3.png)


# Step 3. Setup Parsec
**3.1** Connect to your VM and login your Parsec account.

![step4](/image/2024-08-21-Run-GPU-needed-Program-Without-Care-Malware-2024/step4.png)


**3.2** Use Parsec connect to VM, and use Parsec-VDD to setup VM resolution.

![step5](/image/2024-08-21-Run-GPU-needed-Program-Without-Care-Malware-2024/step4.1.png)

[nomi-san/parsec-vdd: ✨ Perfect 4K@240Hz Virtual Display](https://github.com/nomi-san/parsec-vdd)

# Step 4. Run your program
Run your program in VM and enjoy : ).


----

# FAQ
### **Show ""Requested windows Image was not found on the WIM file!"" when running CopyFilesToVM.ps1**
=> Check this solution, setting image index [ERROR : There is no matching image. · Issue #187 · jamesstringerparsec/Easy-GPU-PV](https://github.com/jamesstringerparsec/Easy-GPU-PV/issues/187#issuecomment-1183399016)

----

### Gaming Laptop can't run CopyFilesToVM.ps1, has error
=> Disable your integrated GPU in device manager, and run again.
![step6](/image/2024-08-21-Run-GPU-needed-Program-Without-Care-Malware-2024/faq1.png)


----
### Show software encoding and degraded performance
![](/image/2024-08-21-Run-GPU-needed-Program-Without-Care-Malware-2024/faq2.png)
1. Stop VM
2. Disable integrated GPU in device manager
3. Run VM
4. Enable integrated GPU in device manager
5. Parsec connect to VM
6. Enjoy your game!

































